{% extends "base.html" %}

{% block title %}Register{% endblock %}

{% block content %}
<div class="card p-4 col-md-6" >
    <h2 class="text-center mb-4">{{ title_text }}</h2>
    {% if error %}
        <div class="alert alert-danger">{{ error }}</div>
    {% endif %}

    {% if success %}
        <div class="alert alert-success">{{ success }}</div>
    {% endif %}
    <form action="{{ action_url }}" method="POST">

        <div class="form-group">
            <label for="username">Username</label>
            <input type="text" class="form-control" id="username" name="username" value="{{ user.username if is_edit else 'Enter your username' }}" required>
        </div>

        <div class="form-group">
            <label for="fullname">Full Name</label>
            <input type="text" class="form-control" id="fullname" name="fullname" value="{{ user.fullname if is_edit else 'Enter your full name' }}" required>
        </div>

        <div class="form-group">
          <label for="email"  class="form-label" >Email address</label>
          <input type="email" class="form-control" id="email" name="email" value="{{ user.email if is_edit else 'Enter your email' }}" required>
        </div>

        <div class="form-group">
          <label for="password">Password</label>
          <input type="password" class="form-control" id="password" name="password" placeholder="Create a password" required>
        </div>
        <div class="form-group">
          <label for="confirm_password">Confirm Password</label>
          <input type="password" class="form-control" id="confirm_password" name="confirm_password" placeholder="Confirm your password" required>
        </div>

        <div class="form-group">
           <label for="role" class="form-label" >User Role</label>

          <select name="role" id="role" class="form-control" required>
	  {% if not is_edit %}
	     <option value="" disabled selected>Choose your role</option>
	      <option value="doctor">Doctor</option>
	      <option value="nurse">Nurse</option>
	      <option value="admin">Admin</option>
          {% else %}
	   <option value="doctor" {% if user.role == 'doctor' %}selected{% endif %}>Doctor</option>
             <option value="nurse" {% if user.role == 'nurse' %}selected{% endif %}>Nurse</option>
             <option value="admin" {% if user.role == 'admin' %}selected{% endif %}>Admin</option>
          {% endif %}

          </select>
        </div>

        <button type="submit" class="btn btn-login btn-block">{{ button_text }}</button>
    </form>
    <div class="mt-3 text-center">
        <p>Already have an account? <a href="/login" class="text-light font-weight-bold">Login here</a></p>
    </div>
</div>

{% endblock %}

